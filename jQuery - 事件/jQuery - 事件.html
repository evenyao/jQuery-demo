<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>jQuery 事件 demo</title>
</head>
<body>
  <div class="box">
    <ul>
      <li>1</li>
      <li>2</li>
      <li>3</li>
      <li>4</li>
    </ul>
  </div>
  <input type="text" id="ipt"><button id="btn">添加</button>
  <div id="wrap"></div>
</body>
</html>
<script src="jquery-3.3.1.js"></script>
<script>
// $('.box li').on('click',function(){
//   console.log($(this))
//   console.log(this)
//   console.log(1)
//   var str = $(this).text()
//   $('#wrap').text(str)
// })


//等同于
// $('.box>ul>li').click(function(){
//   console.log(2)
//   var str = $(this).text()
//   $('#wrap').text(str)
// })


//命名空间 hello
// $('.box li').on('click.hello',function(){
//   console.log('hello')
//   var str = $(this).text()
//   $('#wrap').text(str)
// })
//
// $('.box li').on('click.world',function(){
//   console.log('world')
//   var str = $(this).text()
//   $('#wrap').text(str)
// })

//命名空间无特别作用，只是在解绑事件时便于区分绑定事件
// $('.box li').off('click.hello')


//可是用如上方法绑定事件 新增的元素是无事件绑定的
$('#btn').on('click',function(){
  var value = $('#ipt').val()
  $('.box>ul').append('<li>' + value + '</li>')
})

//使用jQuery事件代理方式
$('.box ul').on('click','li',function(){
  console.log(this)
  var str = $(this).text()
  $('#wrap').text(str)
})

//上面代码相当于原生JS的
// document.querySelector('.box ul').addEventListener('click',function(e){
//   if(e.target.tagName.toLowerCase() === 'li'){
//     //console.log(e.target)
//     var str = e.target.innerText
//     //console.log(str)
//     document.querySelector('#wrap').innerHTML = '<div id="wrap">' + str + '</div>'
//   }
// })


//绑定事件的时候我们也可以给事件附带些数据，只不过这种用法很少见
// $('.box').on('click',{name: 'hunger'},function(e){
//   console.log(e.data)
// })

//.trigger()
//根据绑定到匹配元素的给定事件类型执行所有处理程序和行为，即通过代码JS使事件触发
// $('.box ul').one('myclick','li',{name: 'evenyao'}, function(e){
//   var str = $(this).text()
//   console.log(e.data)
//   $('#wrap').text(str)
// })
//
// setTimeout(function(){
//   $('.box li').eq(0).trigger('myclick')
// },3000)

</script>
